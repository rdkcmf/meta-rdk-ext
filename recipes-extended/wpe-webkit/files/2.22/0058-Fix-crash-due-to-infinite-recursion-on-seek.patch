From 0592ae169cc0f54d328a5c8774101df15de29cf3 Mon Sep 17 00:00:00 2001
From: Siva Sankar Raja <sivasankar_raja@comcast.com>
Source: COMCAST
License: LICENSE-LGPL-2.1
Upstream-Status: Pending
Signed-off-by: Siva Sankar Raja <sivasankar_raja@comcast.com>
Date: Mon, 8 Jul 2019 12:40:59 +0000
Subject: [PATCH] Fix crash due to infinite recursion on seek

---
 Source/WebCore/Modules/mediasource/MediaSource.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

Index: git/Source/WebCore/Modules/mediasource/MediaSource.cpp
===================================================================
--- git.orig/Source/WebCore/Modules/mediasource/MediaSource.cpp
+++ git/Source/WebCore/Modules/mediasource/MediaSource.cpp
@@ -263,7 +263,8 @@ void MediaSource::completeSeek()
     // 4. Resume the seek algorithm at the "Await a stable state" step.
     m_private->seekCompleted();
 
-    monitorSourceBuffers();
+    if (m_pendingSeekTime.isInvalid())
+        monitorSourceBuffers();
 }
 
 Ref<TimeRanges> MediaSource::seekable()
